2022-02-16 08:25:40.685 +06:00 [INF] Application Starting up
2022-02-16 08:28:23.255 +06:00 [INF] Application Starting up
2022-02-16 08:44:00.619 +06:00 [INF] Application Starting up
2022-02-16 08:45:37.341 +06:00 [INF] Application Starting up
2022-02-16 09:17:10.638 +06:00 [INF] Application Starting up
2022-02-16 09:20:18.819 +06:00 [INF] Application Starting up
2022-02-16 09:23:57.176 +06:00 [INF] Application Starting up
2022-02-16 09:25:46.075 +06:00 [INF] Application Starting up
2022-02-16 09:37:18.932 +06:00 [INF] Application Starting up
2022-02-16 09:37:58.033 +06:00 [INF] Application Starting up
2022-02-16 09:42:19.897 +06:00 [INF] Application Starting up
2022-02-16 09:45:38.849 +06:00 [INF] Application Starting up
2022-02-16 09:46:58.576 +06:00 [INF] Application Starting up
2022-02-16 09:49:13.633 +06:00 [INF] Application Starting up
2022-02-16 09:51:50.989 +06:00 [INF] Application Starting up
2022-02-16 11:32:51.727 +06:00 [INF] Application Starting up
2022-02-16 11:53:55.126 +06:00 [INF] Application Starting up
2022-02-16 11:54:15.161 +06:00 [INF] Application Starting up
2022-02-16 12:15:38.212 +06:00 [INF] Application Starting up
2022-02-16 12:24:43.781 +06:00 [INF] Application Starting up
2022-02-16 12:26:03.284 +06:00 [INF] Application Starting up
2022-02-16 12:40:15.724 +06:00 [INF] Application Starting up
2022-02-16 12:40:34.621 +06:00 [ERR] Failed to Create Ticket
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Tickets_Customers_CustomerId". The conflict occurred in database "BookingDB", table "dbo.Customers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1c4122af-bf39-4766-9020-1a899399ea8d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Booking.com.Data.UnitOfWork.Save() in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Data\UnitOfWork.cs:line 19
   at Booking.com.Flights.Services.TicketService.CreateTicket(Ticket ticket) in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Flights\Services\TicketService.cs:line 36
   at Booking.com.Web.Areas.Admin.Models.CreateTicketModel.CreateTicket() in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Web\Areas\Admin\Models\Ticket\CreateTicketModel.cs:line 34
   at Booking.com.Web.Areas.Admin.Controllers.TicketController.Create(CreateTicketModel model) in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Web\Areas\Admin\Controllers\TicketController.cs:line 35
2022-02-16 12:58:41.687 +06:00 [INF] Application Starting up
2022-02-16 13:01:38.166 +06:00 [INF] Application Starting up
2022-02-16 13:05:48.750 +06:00 [INF] Application Starting up
2022-02-16 13:06:51.999 +06:00 [INF] Application Starting up
2022-02-16 13:08:34.902 +06:00 [INF] Application Starting up
2022-02-16 13:09:36.479 +06:00 [INF] Application Starting up
2022-02-16 13:12:48.469 +06:00 [INF] Application Starting up
2022-02-16 15:38:31.074 +06:00 [INF] Application Starting up
2022-02-16 15:40:55.411 +06:00 [INF] Application Starting up
2022-02-16 15:42:00.899 +06:00 [INF] Application Starting up
2022-02-16 15:43:56.820 +06:00 [INF] Application Starting up
2022-02-16 15:44:40.360 +06:00 [ERR] Failed to Create Ticket
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Tickets_Customers_CustomerId". The conflict occurred in database "BookingDB", table "dbo.Customers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5e8e8386-3716-4bd4-aeec-a0dfb93f5c6a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Booking.com.Data.UnitOfWork.Save() in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Data\UnitOfWork.cs:line 19
   at Booking.com.Flights.Services.TicketService.CreateTicket(Ticket ticket) in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Flights\Services\TicketService.cs:line 36
   at Booking.com.Web.Areas.Admin.Models.CreateTicketModel.CreateTicket() in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Web\Areas\Admin\Models\Ticket\CreateTicketModel.cs:line 36
   at Booking.com.Web.Areas.Admin.Controllers.TicketController.Create(CreateTicketModel model) in D:\Code\AspNET\.Net\ASP.NET\Booking.com\Booking.com\Booking.com.Web\Areas\Admin\Controllers\TicketController.cs:line 35
2022-02-16 18:50:39.637 +06:00 [INF] Application Starting up
2022-02-16 19:09:10.125 +06:00 [INF] Application Starting up
